<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Joystick UI</title>
    <link rel="stylesheet" href="https://unpkg.com/joystick-ui@1.2.0/dist/main.css" />
  </head>
  <body>
    <style>
      .joystick::after {
        border: 5px solid red;
      }
    </style>
    <script type="module">
      import { createJoystick } from "https://unpkg.com/joystick-ui@1.2.0/dist/main.js?module";

      const { joystick, joystickControl } = createJoystick({
        joystickClass: "joystick",
        thumbClass: "thumb",
      });

      document.body.append(joystick);

      const text = document.createElement("span");

      document.body.append(text);

      const animate = () => {
        const { x, y } = joystickControl.direction.normalize();

        text.innerHTML = `x: ${x.toFixed(2)}, y: ${y.toFixed(2)}`;

        requestAnimationFrame(animate);
      };

      animate();
    </script>
  </body>
</html>
